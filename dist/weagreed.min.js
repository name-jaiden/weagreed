/**
 * weagreed v0.0.3
 * (c) 2019 Jaiden
 * @license MIT
 */
var e,r;e=this,r=function(){"use strict";var e=require("path"),r=require("fs"),n=function(r){var n=e.resolve(__dirname,"./../../../");return e.resolve(n,r)},t=function(e){return r.statSync(e).isDirectory()},o=function(e){return r.existsSync(e)};function i(e,r){e.forEach(function(e){var t=n(r+"/"+e);if(!o(t))throw console.error("lack of a necessary folder "+e),new Error})}var c=require("path"),u=require("fs");function a(e,r,n,o){var i=[];return n=n||"",e.forEach(function(e){var a=c.join(r,e),f=t(a),s="controller"===e.toLocaleLowerCase();if(f&&!s)i.push({path:""+n+e});else if(s&&o){var l=c.join(r,"controller","index.js"),p=function e(r,n,o){return u.readdirSync(r).forEach(function(i){var u,a=o+"/"+i,f=c.join(r,i);t(f)?e(f,n,a):/\.vue$/.test(i)&&n.push(((u={})[i.split(".")[0]]="export "+i.split(".")[0]+" from '"+a+"'",u))}),n}(a,[],"."),d=p.map(function(e){return Object.values(e)}),v=p.map(function(e){return Object.keys(e)});u.writeFileSync(l,d.join("\n"));var j,h=u.readFileSync(c.join(r,"index.vue"),"utf8"),m=/<script>\nimport {.*} from '\.\/controller'/;j=m.test(h)?h.replace(m,function(){return"<script>\nimport {"+v.join(", ")+"} from './controller'"}):h.replace("<script>",function(){return"<script>\nimport {"+v.join(", ")+"} from './controller'"}),u.writeFileSync(c.join(r,"index.vue"),j)}}),i}function f(e,r,n,t){n=n.replace(/(\.)\/(\/.*)/,function(e,r,n){return r+n});var i=u.readdirSync(e),s=i.includes("index.vue");if(s){var l=c.join(e,"routeConfig.json");if(o(l)){var p=function(e){var r=u.readFileSync(e,"utf8");return JSON.parse(r)}(l);r=Object.assign(r,p)}r.component="() => import('"+n+"/index.vue')"}var d=a(i,e,t,s);if(d.length)return r.children=d,r.children.forEach(function(r){f(c.join(e,r.path),r,n+"/"+r.path)}),Object.values(r.children)}function s(e){var r,t=n(e),o=c.join(t,"index.js"),i=f(t,{},".","/"),a=(r=(r=i)||{},JSON.stringify(r).replace(/("component":)"(.*?)"/g,function(e,r,n){return""+r+n}).replace(/\"/g,"'").replace(/\[\{/g,"[\n{").replace(/}]/g,"}\n]").replace(/,/g,",\n"));u.writeFileSync(o,"export default "+a)}return i(["Api","Components","controllers","Pages","Servers","Ui"],"src"),s("src/Pages"),{checkMustFolderList:i,generateRouter:s,version:"0.0.3"}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e=e||self).weagreed=r();